<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Winglad Controller</title>
    <link rel="stylesheet" href="static/style.css">
</head>

<body>
    <div id="ui-logo-container">
        <img src="static/winglad-sm.png" id="ui-logo" alt="Winglad"">
    </div>
    <div id="container">
        <div id="gyro-debug"
            style="position: absolute; top: 10px; left: 10px; color: yellow; font-family: monospace; font-size: 12px; pointer-events: none; z-index: 9999; display: none;">
            DEBUG
        </div>
        <div id="left-zone">
            <div id="joystick-area">
                <div id="joystick-knob"></div>
            </div>
        </div>

        <div id="center-divider"></div>

        <div id="center-zone">
            <button class="menu-btn" data-id="SELECT">SELECT</button>
            <button class="menu-btn" data-id="START">START</button>
        </div>

        <div id="right-zone">
            <div class="button-diamond">
                <button class="game-btn btn-y" data-id="Y">Y</button>
                <button class="game-btn btn-x" data-id="X">X</button>
                <button class="game-btn btn-b" data-id="B">B</button>
                <button class="game-btn btn-a" data-id="A">A</button>
            </div>
        </div>
    </div>

    <button id="settings-btn">⚙</button>

    <div id="settings-modal" class="modal">
        <div class="modal-content glass-panel">
            <div class="modal-header">
                <h2>Controller Settings</h2>
                <button id="close-settings-btn" class="icon-btn">×</button>
            </div>

            <div class="settings-body">
                <div class="setting-group">
                    <h3>Input Mode</h3>
                    <div class="setting-row">
                        <label>Joystick Mapping</label>
                        <div class="custom-select" id="joystick-mode-select" data-value="GAMEPAD">
                            <div class="selected-value">Gamepad (Analogue)</div>
                            <div class="options-list">
                                <div class="option" data-value="GAMEPAD">Gamepad (Analogue)</div>
                                <div class="option" data-value="WASD">Keyboard (WASD)</div>
                                <div class="option" data-value="ARROW">Keyboard (Arrows)</div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="setting-group">
                    <h3>Layout Config</h3>
                    <div class="setting-row">
                        <label>Left Input Style</label>
                        <div class="custom-select" id="left-input-style" data-value="JOYSTICK">
                            <div class="selected-value">Joystick</div>
                            <div class="options-list">
                                <div class="option" data-value="JOYSTICK">Joystick</div>
                                <div class="option" data-value="DPAD">D-Pad</div>
                                <div class="option" data-value="LR_BUTTONS">L/R Buttons</div>
                            </div>
                        </div>
                    </div>
                    <div class="setting-row">
                        <label>Joystick Size</label>
                        <div class="range-wrapper">
                            <input type="range" id="joystick-size-input" min="50" max="200" value="100">
                        </div>
                    </div>
                </div>

                <div class="setting-group">
                    <h3>System</h3>
                    <div class="setting-row">
                        <label>Fullscreen</label>
                        <label class="toggle-switch">
                            <input type="checkbox" id="fullscreen-check">
                            <span class="slider"></span>
                        </label>
                    </div>
                </div>

                <div class="setting-group">
                    <h3>Motion Control</h3>
                    <div class="setting-row">
                        <label>Enable Gyro</label>
                        <label class="toggle-switch">
                            <input type="checkbox" id="gyro-enabled-check">
                            <span class="slider"></span>
                        </label>
                    </div>
                    <div class="setting-row">
                        <label>Sensitivity</label>
                        <div class="range-wrapper">
                            <input type="range" id="gyro-sensitivity-input" min="1" max="20" value="5">
                        </div>
                    </div>
                    <div class="setting-row">
                        <label>Steering Mode</label>
                        <label class="toggle-switch">
                            <input type="checkbox" id="steering-enabled-check">
                            <span class="slider"></span>
                        </label>
                    </div>
                    <div class="setting-row">
                        <label>Steering Sensitivity</label>
                        <div class="range-wrapper">
                            <input type="range" id="steer-sensitivity-input" min="1" max="25" value="10">
                        </div>
                    </div>
                    <div class="setting-row">
                        <label>Invert Gyro X</label>
                        <label class="toggle-switch">
                            <input type="checkbox" id="gyro-invert-x-check">
                            <span class="slider"></span>
                        </label>
                    </div>
                    <div class="setting-row">
                        <label>Invert Gyro Y</label>
                        <label class="toggle-switch">
                            <input type="checkbox" id="gyro-invert-y-check">
                            <span class="slider"></span>
                        </label>
                    </div>
                    <div class="setting-row">
                        <label>Show Debug Overlay</label>
                        <label class="toggle-switch">
                            <input type="checkbox" id="show-debug-check">
                            <span class="slider"></span>
                        </label>
                    </div>
                </div>

                <div class="setting-actions">
                    <button id="toggle-edit-btn" class="action-btn">Edit Layout</button>
                    <button id="add-btn-btn" class="action-btn">Add Button</button>
                    <button id="reset-layout-btn" class="action-btn danger">Reset All</button>
                </div>
            </div>
        </div>
    </div>

    <div id="config-modal" class="modal">
        <div class="modal-content glass-panel">
            <div class="modal-header">
                <h2>Configure Button</h2>
                <button id="close-config-btn" class="icon-btn">×</button>
            </div>

            <div class="settings-body">
                <div class="setting-group">
                    <div class="setting-row">
                        <label>Label</label>
                        <input type="text" id="btn-label-input" class="text-input">
                    </div>
                    <div class="setting-row">
                        <label>Function</label>
                        <div class="custom-select" id="btn-id-select" data-value="">
                            <div class="selected-value">(Custom Key)</div>
                            <div class="options-list">
                                <div class="option" data-value="">(Custom Key)</div>
                                <div class="option" data-value="A">A / Cross</div>
                                <div class="option" data-value="B">B / Circle</div>
                                <div class="option" data-value="X">X / Square</div>
                                <div class="option" data-value="Y">Y / Triangle</div>
                                <div class="option" data-value="LB">LB / L1</div>
                                <div class="option" data-value="RB">RB / R1</div>
                                <div class="option" data-value="LT">LT / L2</div>
                                <div class="option" data-value="RT">RT / R2</div>
                                <div class="option" data-value="START">Start</div>
                                <div class="option" data-value="SELECT">Select</div>
                                <div class="option" data-value="THUMBL">L3</div>
                                <div class="option" data-value="THUMBR">R3</div>
                                <div class="option" data-value="UP">D-Pad Up</div>
                                <div class="option" data-value="DOWN">D-Pad Down</div>
                                <div class="option" data-value="LEFT">D-Pad Left</div>
                                <div class="option" data-value="RIGHT">D-Pad Right</div>
                                <div class="option" data-value="BTN_LEFT">Mouse Left Click</div>
                                <div class="option" data-value="BTN_RIGHT">Mouse Right Click</div>

                                <div class="option" data-value="KEY_A">Key A</div>
                                <div class="option" data-value="KEY_B">Key B</div>
                                <div class="option" data-value="KEY_C">Key C</div>
                                <div class="option" data-value="KEY_D">Key D</div>
                                <div class="option" data-value="KEY_E">Key E</div>
                                <div class="option" data-value="KEY_F">Key F</div>
                                <div class="option" data-value="KEY_G">Key G</div>
                                <div class="option" data-value="KEY_H">Key H</div>
                                <div class="option" data-value="KEY_I">Key I</div>
                                <div class="option" data-value="KEY_J">Key J</div>
                                <div class="option" data-value="KEY_K">Key K</div>
                                <div class="option" data-value="KEY_L">Key L</div>
                                <div class="option" data-value="KEY_M">Key M</div>
                                <div class="option" data-value="KEY_N">Key N</div>
                                <div class="option" data-value="KEY_O">Key O</div>
                                <div class="option" data-value="KEY_P">Key P</div>
                                <div class="option" data-value="KEY_Q">Key Q</div>
                                <div class="option" data-value="KEY_R">Key R</div>
                                <div class="option" data-value="KEY_S">Key S</div>
                                <div class="option" data-value="KEY_T">Key T</div>
                                <div class="option" data-value="KEY_U">Key U</div>
                                <div class="option" data-value="KEY_V">Key V</div>
                                <div class="option" data-value="KEY_W">Key W</div>
                                <div class="option" data-value="KEY_X">Key X</div>
                                <div class="option" data-value="KEY_Y">Key Y</div>
                                <div class="option" data-value="KEY_Z">Key Z</div>

                                <div class="option" data-value="KEY_1">Key 1</div>
                                <div class="option" data-value="KEY_2">Key 2</div>
                                <div class="option" data-value="KEY_3">Key 3</div>
                                <div class="option" data-value="KEY_4">Key 4</div>
                                <div class="option" data-value="KEY_5">Key 5</div>
                                <div class="option" data-value="KEY_6">Key 6</div>
                                <div class="option" data-value="KEY_7">Key 7</div>
                                <div class="option" data-value="KEY_8">Key 8</div>
                                <div class="option" data-value="KEY_9">Key 9</div>
                                <div class="option" data-value="KEY_0">Key 0</div>

                                <div class="option" data-value="KEY_F1">F1</div>
                                <div class="option" data-value="KEY_F2">F2</div>
                                <div class="option" data-value="KEY_F3">F3</div>
                                <div class="option" data-value="KEY_F4">F4</div>
                                <div class="option" data-value="KEY_F5">F5</div>
                                <div class="option" data-value="KEY_F6">F6</div>
                                <div class="option" data-value="KEY_F7">F7</div>
                                <div class="option" data-value="KEY_F8">F8</div>
                                <div class="option" data-value="KEY_F9">F9</div>
                                <div class="option" data-value="KEY_F10">F10</div>
                                <div class="option" data-value="KEY_F11">F11</div>
                                <div class="option" data-value="KEY_F12">F12</div>

                                <div class="option" data-value="KEY_SPACE">Space</div>
                                <div class="option" data-value="KEY_ENTER">Enter</div>
                                <div class="option" data-value="KEY_BACKSPACE">Backspace</div>
                                <div class="option" data-value="KEY_TAB">Tab</div>
                                <div class="option" data-value="KEY_ESC">Esc</div>
                                <div class="option" data-value="KEY_LEFTSHIFT">Left Shift</div>
                                <div class="option" data-value="KEY_LEFTCTRL">Left Ctrl</div>
                                <div class="option" data-value="KEY_LEFTALT">Left Alt</div>
                                <div class="option" data-value="KEY_UP">Arrow Up</div>
                                <div class="option" data-value="KEY_DOWN">Arrow Down</div>
                                <div class="option" data-value="KEY_LEFT">Arrow Left</div>
                                <div class="option" data-value="KEY_RIGHT">Arrow Right</div>
                            </div>
                        </div>
                    </div>
                    <div class="setting-row">
                        <label>Custom Key</label>
                        <input type="text" id="btn-custom-key-input" class="text-input" placeholder="KEY_...">
                    </div>
                    <div class="setting-row">
                        <label>Size</label>
                        <div class="range-wrapper">
                            <input type="range" id="btn-size-input" min="30" max="150" value="60">
                        </div>
                    </div>
                </div>

                <div class="setting-actions">
                    <button id="save-config-btn" class="action-btn primary">Save</button>
                    <button id="delete-btn-btn" class="action-btn danger">Delete</button>
                </div>
            </div>
        </div>
    </div>

    <script src="static/client.js"></script>
</body>

</html>
